# ssh: connect to host github.com port 22: Connection timed out

## 1. 说明

- 也许是“防火墙”的关系，“推送”等操作失败后，会提示如本文题目那样的信息

## 2. 检查

1. 进入相应目录

2. 右键，选择 `Git Bash Here`

3. 执行 `ssh -T git@github.com` 命令

    - 若显示如下，则说明出了问题

        ![](.\imgs\07-01_ssh_-T.png)

## 3. 解决方法

- 有两种常见的解决方法

### 3.1 使用 *https* 传输

- 删除原先的 *origin*，添加新的 *origin*
    - `git remote rm origin`
    - `git remote add origin https://github.com/YorkFish/xxx.git`

### 3.2 分两步

#### 3.2.1 第一步

1. 使用命令 `ssh-keygen -t rsa -C "abc@email.com"` 重新创建秘钥

2. 登入 *GitHub*

3. 删除原先的公钥

    ![](.\imgs\07-02_delete_ssh_key.png)

4. 确认（此时可能需要输入登录密码以确认身份）

    ![](.\imgs\07-03_cconfirm_delete.png)

5. 添加新的 *SSH Key*
6. 使用 `ssh -T git@github.com` 检查，若仍不行，再走第二步（大概率是要走的）

#### 3.2.2 第二步

- 在存放公钥(id_rsa.pub)的文件夹 `C:\Users\your_name\.ssh` 里，新建文本 *config*
- 在 *config* 中写入如下内容

        Host github.com
        User YourEmail@163.com
        Hostname ssh.github.com
        PreferredAuthentications publickey
        IdentityFile ~/.ssh/id_rsa
        Port 443

- 说明：第二行的 *User* 为你的 *Github* 账号名

#### 检验

1. 执行 `ssh -T git@github.com`
2. 出现如下提示，回车 *yes* 即可

    ![](.\imgs\07-04_check.png)

3. 这时，验证就可以通过了

- 若再次执行 `ssh -T git@github.com`，显示如下

    ![](.\imgs\07-05_ssh_-T_again.png)