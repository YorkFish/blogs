# 偷懒用的命令

## 1. 快速添加注释

- 下方的 `n1`, `n2`  是虚指，实际用时由具体命令或数字代替

    | 命令 | 释义 |
    | :--- | :--- |
    | **:n1,n2 s/^/#/g** | *^* 表示行首，多行行首加 `#` |
    | **:n1,n2 s/^#//g** | 多行行首去 *#* |
    | **:n1,n2 s/^/\/\//g** | 多行行首加 **//** |

- `:n1,n2s/^/\/\//g` 可以继续偷懒
    - `:n1,n2s/^/\/\/` ——行数与 `s` 之间不空一格；省去末尾的 `/g`
    - `:n1,n2 s/^/\/\/ /` ——行号、注释符号后加空格可看得清晰；省去末尾的 `g`
- 利用“可视-块”模式进行多行注释也很方便
    1. 按组合键 <kbd>ctrl</kbd>+<kbd>v</kbd>，左下角出现 `-- 可视 块--`
    2. 使用 <kbd>j</kbd>、<kbd>k</kbd> 等选中需要注释的区域
    3. 按 <kbd>I</kbd>
    4. 键入 `\\` （其他注释符也行）
    5. 按 <kbd>Esc</kbd> (Over)

## 2. map 命令

- `:help map` 可以查看相关帮助信息
- *map* 可以映射得很复杂
    - 基本格式是：`:map 快捷键 命令`
    - 若要写入配置文件 *\_vimrc*，把开头的“冒号”去掉
- 设置好后的用法：相应的快捷键+<kbd>Enter</kbd>

### 例1

- `:map <A-3> :s/^/# /` —— <kbd>Alt</kbd>+<kbd>3</kbd>：单行注释
- `:map <A-4> :s/^# //` ——<kbd>Alt</kbd>+<kbd>4</kbd>：取消单行注释

### 例2

- `:map <F5> :!python %` —— <kbd>F5</kbd>：运行当前的 `.py` 文件

## 3. 执行 *Shell* 命令

- `:! ls ./` ——在当前目录使用 `ls` 命令

## 4. 局部内容另存为

1. 按组合键 <kbd>ctrl</kbd>+<kbd>v</kbd> 进入“可视-块”模式
2. 使用方向键等选择内容
3. 按组合键 <kbd>shift</kbd>+<kbd>:</kbd> 进入“命令模式”
4. 输入 `w filename` 进行另存为，新文件名为 *filename*
5. 若上一步输入的是 `w! filename`，则为强制覆盖

## 5. 合并文件

- `:r filename` ——将 *filename* 这个文件中的所有内容复制到当前文件末尾

## 6. 打开多个文件

1. 对 *gVim* 而言，需要设置好环境变量
2. 在命令行下（`cmd`、`PowerShell` 或其他）进入目标目录
3. 输入 `vim -o filename1 filename2 ...`，其中 *o* 为小写字母，文件垂直（上下）分布
4. 输入 `vim -O filename1 filename2 ...`，其中 *O* 为大写字母，文件水平（左右）分布
5. 用 <kbd>ctrl</kbd>+<kbd>w</kbd>+`方向键` 或 <kbd>ctrl</kbd>+<kbd>w</kbd>+<kbd>w</kbd> 可以在各文件中切换
6. 退出的两种方法
    1. 使用 `:q`、`:wq`、`:x`、`:q!`、`:wq!`、`ZZ` 中的任意一个，可以一个一个地退出
    2. 使用 `:wqa`、`:qa!` 可以一起退出 (*a for all*)