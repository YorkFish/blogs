# find

## 1. 命令简介

- <u>文件搜索命令</u>
- 命令所在路径：`/bin/find`
- 执行权限：所有用户
- 功能描述：***文件搜索***

## 2. 命令语法

- `find [搜索范围] [匹配条件]`
    - `-type`：根据文件类型查找

    | 符号 | 释义 |
    | :--: | :--- |
    | `f` | 文件 |
    | `d` | 目录 |
    | `l` | 软链接文件 |

## 3. 举例

### 3.1 例1

- 目标：在目录 `/etc` 中查找文件 *init*
- 命令：`find /etc -name init`
- 参数说明

    | 符号 | 释义 |
    | :---: | :--- |
    | `-name` | 区分大小写 |
    | `-iname` | 不区分大小写；根据 `i` 节点查找 |

#### 补充

- 模糊查找：使用用通配符 `*`

### 3.2 例2

- 目标：在根目录下查找大于 *100MB* 的文件
- 命令：`find / -size +204800`

    | 符号 | 释义 |
    | :---: | :--- |
    | `+n` | 大于 |
    | `-n` | 小于 |
    | `n` | 等于 |

#### 说明

- *Linux* 下搜索的单位是数据块
- 一个数据块占 *512* 个字节，即 *0.5k*

### 3.3 例3

- 目标：在 `/etc` 下查找大于 *80MB* 小于 *100MB* 的文件
- 命令：`find /etc -size +163840 -a -size -204800`

    | 符号 | 释义 |
    | :---: | :--- |
    | `-a` | 两个条件同时满足 |
    | `-o` | 两个条件满足任意一个即可 |

### 3.4 例4

- 目标：在根目录下查找所有者为 *sc* 的文件
- 命令：`find /home -user sc`

    | 符号 | 释义 |
    | :---: | :--- |
    | `-user` | 根据所有者查找 |
    | `-group` | 根据所属组查找 |

### 3.5 例5

- 目标：查找 `/etc` 下以 *init* 开头，后面跟 *3* 个字符为文件名的文件
- 命令：`find /etc -name init???`

### 3.6 例6

- 目标：在 `/etc` 下查找 *5* 分钟内被修改过属性的文件和目录
- 命令：`find /etc -cmin -5`

    | 符号 | 释义 |
    | :---: | :--- |
    | `-amin` | 访问时间 *a for access* |
    | `-cmin` | 文件属性 *c for change* |
    | `-mmin` | 文件内容 *m for modify* |
    | `+5` | 超过 *5* 分钟 |
    | `-5` | *5* 分钟以内 |

### 3.7 例7

- 目标：在 `/etc` 下查找 *inittab* 文件，并显示其详细信息
- 命令：`find /etc -name inittab -exec ls -l {} \;`

    | 符号 | 释义 |
    | :---: | :--- |
    | `-exec` | 表示连接命令 |
    | `-ok` | 同上方的 `-exec` |
    | `{} \;` | 固定格式，表示 *find* 的查找结果 |
    | `\` | 转义字符，作用于 `;` |
    | `;` | 表示结束 |