# 第 *3* 题 *re*

## 1. 地址

<a href="http://www.pythonchallenge.com/pc/def/equality.html" target="_blank">>>> http://www.pythonchallenge.com/pc/def/equality.html</a>

## 2. 题图

![bodyguard](.\imgs\03_bodyguard.jpg)

## 3. 提示

- 网页内

    > One small letter, surrounded by **EXACTLY** three big bodyguards on each of its sides.

- 网页源码注释

    ```txt
    kAewtloYgcFQaJNhHVGxXDiQmzjfcpYbzxlWrVcqsmUb...
    ```

## 4. 解法

- 寻找这样的小写字母：它左右两边有且仅有 3 个大写字母
- 标题是 `re`，这是作者提示使用“正则”
- 不过，不用正则也行
- 方便起见，我将上述乱序的字符串另存为 `bodyguard.txt`

### 4.1 方法一

```python
f = open("bodyguard.txt")
s = f.read()
f.close()

n = len(s)
res = []
target = -1
left = mid = right = 0
for i in range(n):
    if s[i].islower():
        if right == 3:
            res.append(s[target])
            target = i
            mid, right = 1, 0
        elif 0 < right < 3:
            left = mid = right = 0
        elif left == 3:
            if not mid:
                target = i
                mid = 1
            else:
                left = mid = 0
        elif left < 3:
            left = 0
    elif s[i].isupper():
        if right == 3:
            left, mid, right = -1, 0, 0
        elif 0 < right < 3:
            right += 1
        elif mid:
            right = 1
        elif left == 3:
            left = -1
        elif -1 < left < 3:
            left += 1
print(''.join(res))

>>>
linkedlist
```

### 4.2 方法二

```python
from re import findall

with open("bodyguard.txt", 'r') as f:  # 将字符串保存到文件 bodyguard.txt 中
    print(''.join(findall("[a-z][A-Z]{3}([a-z])[A-Z]{3}[a-z]", f.read())))

>>>
linkedlist
```

- 进入 `http://www.pythonchallenge.com/pc/def/linkedlist.html`
- 新网页内写着：`linkedlist.php`

## 5. 答案

- `http://www.pythonchallenge.com/pc/def/linkedlist.php`