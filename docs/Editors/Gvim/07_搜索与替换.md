# 搜索与替换

## 1. 搜索

### 1.1 */String*

- 即 **“斜杠”+“需要搜索的内容”+回车**
- `String` 是虚指，实际用时由具体字符串代替
- 若文本中有 `String`，光标在第一个词的首位
- 若搜索出多个
    - 按 <kbd>n</kbd> 跳至下一处
    - 按 <kbd>N</kbd> 跳至上一处

### 1.2 *?String*

- 即 **“英文问号”+“需要搜索的内容”+回车**
- `String` 是虚指，实际用时由具体字符串代替
- 若文本中有匹配的 `String`，粗光标会显示在有该词的最后一行的第一个词的首位
- 若搜索出多个（与 `/String` 相反）
  - 按 <kbd>N</kbd> 跳至下一处
  - 按 <kbd>n</kbd> 跳至上一处

### 1.3 知识点

- 若搜索时需要忽略大小写，以下两种方法均可
    1. 在配置文件 *\_vimrc* 中添加命令 `set ic`
    2. 在当前页面敲击命令 `:set ic`
- 搜索成功后会有高亮，若要消去高亮，以下两种方法均可
    - `:nohl`
    - `:noh`

## 2. 替换

### 2.1 普通替换

| 命令 | 释义 |
| :---: | :--- |
| **r** | 取代粗光标处的字符 |
| **R** | 从粗光标所的字符开始，往后替换字符，按 <kbd>Esc</kbd> 结束 |

### 2.2 搜索替换

- 下方的 `old` 和 `new` 是虚指，实际用时由具体字符串代替
- 下方的 `n1` 和 `n2`  也是虚指，实际用时由具体数字代替

    | 命令 | 释义 |
    | :--- | :--- |
    | **:s/old/new** | 将粗光标所在行第一个 `old` 替换成 `new` |
    | **:s/old/new/g** | 将粗光标所在行所有的 `old` 替换成 `new` |
    | **:%s/old/new/g** | 将当前文本所有的 `old` 替换成 `new` |
    | **:n1,n2s/old/new/g** | 将当前文本的第 `n1` 行到第 `n2` 行的 `old` 替换成 `new` |
    | **:n1,n2s/old/new/gc** | 1. 在上一条基础上，每替换一个都要确认 <br>2. 后续命令 `y/n/a/q/l` 分别代表 <br>`确认/跳过/之后的全部/取消/换一个就结束` |

### 2.3 知识点

- **g** 表示“全局替换”
- **%** 表示“当前文件”，不妨设文件为 `test.py`

    | 符号 | 释义 |
    | :---: | :--- |
    | %:e | 扩展名 py |
    | %:t:r | 去除扩展名后的文件名 test |
    | %< | 去除扩展名后的文件名 test |
    | %:p | 完整路径名 |
    | %:h | 该文件所在目录 |
